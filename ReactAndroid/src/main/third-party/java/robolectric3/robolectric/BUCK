include_defs('//ReactAndroid/DEFS')

android_library(
    name = 'robolectric',
    exported_deps = [
        ':robolectric-core',
        ':robolectric-resources',
        ':robolectric-annotations',
        ':robolectric-utils',
        ':bouncycastle',
        ':vtd-xml',
        ':icu',
        ':shadows-core-3.1-16',
        ':guava',
        react_native_dep('third-party/java/asm:asm'),
        react_native_dep('third-party/java/sqlite:sqlite'),
    ],
    visibility = ['//ReactAndroid/...',],
)

prebuilt_jar(
    name = 'robolectric-core',
    binary_jar = ':robolectric-binary-jar',
    visibility = ['//ReactAndroid/...',],
)

remote_file(
    name = 'robolectric-binary-jar',
    url = 'mvn:org.robolectric:robolectric:jar:3.1',
    sha1 = '5bd3814a085d17ac05e01c6cda6eae8c1bf084a5',
)

prebuilt_jar(
    name = 'robolectric-resources',
    binary_jar = ':robolectric-resources-binary-jar',
    visibility = ['//ReactAndroid/...',],
)

remote_file(
    name = 'robolectric-resources-binary-jar',
    url = 'mvn:org.robolectric:robolectric-resources:jar:3.1',
    sha1 = '5edc9fd9d4635286d8f8364fdd955fe83740be6f',
)

prebuilt_jar(
    name = 'robolectric-annotations',
    binary_jar = ':robolectric-annotations-binary-jar',
    visibility = ['//ReactAndroid/...',],
)

remote_file(
    name = 'robolectric-annotations-binary-jar',
    url = 'mvn:org.robolectric:robolectric-annotations:jar:3.1',
    sha1 = '027ae8d151de5b8156abf7fdcbc4d99278165539',
)

prebuilt_jar(
    name = 'robolectric-utils',
    binary_jar = ':robolectric-utils-binary-jar',
    visibility = ['//ReactAndroid/...',],
)

remote_file(
    name = 'robolectric-utils-binary-jar',
    url = 'mvn:org.robolectric:robolectric-utils:jar:3.1',
    sha1 = 'cf88814124fc1ea76a2d98858d72ec3831ab8501',
)

prebuilt_jar(
    name = 'bouncycastle',
    binary_jar = ':bouncycastle-binary-jar',
    visibility = ['//ReactAndroid/...',],
)

remote_file(
    name = 'bouncycastle-binary-jar',
    url = 'mvn:org.bouncycastle:bcprov-jdk16:jar:1.46',
    sha1 = 'ce091790943599535cbb4de8ede84535b0c1260c',
)

prebuilt_jar(
    name = 'vtd-xml',
    binary_jar = ':vtd-xml-binary-jar',
    visibility = ['//ReactAndroid/...',],
)

remote_file(
    name = 'vtd-xml-binary-jar',
    url = 'mvn:com.ximpleware:vtd-xml:jar:2.11',
    sha1 = 'ee5bcf62c1acf76434ee9f1c67a840bafef72a6d',
)

prebuilt_jar(
    name = 'icu',
    binary_jar = ':icu-binary-jar',
    visibility = ['//ReactAndroid/...',],
)

remote_file(
    name = 'icu-binary-jar',
    url = 'mvn:com.ibm.icu:icu4j:jar:53.1',
    sha1 = '786d9055d4ca8c1aab4a7d4ac8283f973fd7e41f',
)

prebuilt_jar(
    name = 'shadows-core-3.1-16', # name defines filename used by robolectric in runtime
    binary_jar = ':robolectric-shadows-binary-jar',
    visibility = ['//ReactAndroid/...',],
)

remote_file(
    name = 'robolectric-shadows-binary-jar',
    url = 'https://repo1.maven.org/maven2/org/robolectric/shadows-core/3.1/shadows-core-3.1-16.jar',
    sha1 = 'be705b09ca8a1e9f13965c24522fcaa8613c10ab',
)

prebuilt_jar(
    name = 'guava', # name defines filename used by robolectric in runtime
    binary_jar = ':guava-binary-jar',
    visibility = ['//ReactAndroid/...',],
)

remote_file(
    name = 'guava-binary-jar',
    url = 'mvn:com.google.guava:guava:jar:19.0-rc2',
    sha1 = '93e17f60bc524c2610b41c494bb829c11ca89436',
)
